{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{235:function(e,t,a){e.exports={toolsBox:\"_14-Ls\",tableBox:\"_2Gy1Q\",fl:\"_18ATS\",fr:\"_VYDZ6\",mr10:\"_1Kii0\",ml10:\"_1-Wdi\",affix:\"_xTYxE\"}},255:function(e,t,a){\"use strict\";a.d(t,\"e\",function(){return u}),a.d(t,\"f\",function(){return d}),a.d(t,\"a\",function(){return p}),a.d(t,\"c\",function(){return h}),a.d(t,\"d\",function(){return b});var i=a(476),l=a(471),n=a(35),s=a(34),r=a(124);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const c={optionList:Object(n.List)([])},m={objectStoreName:s.a.indexeddb.objectStore[0].name},u=Object(i.a)(\"配置列表\"),d=r.a.putAction(m),p=r.a.cursorAction(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);\"function\"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),i.forEach(function(t){o(e,t,a[t])})}return e}({},m,{successAction:u})),h=r.a.deleteAction(m),b=r.a.putAction(m),f=Object(l.a)({[u]:(e,t)=>{const a=\"optionList\"in t.payload?t.payload.optionList:t.payload.result;return e.set(\"optionList\",Object(n.List)(a))}},Object(n.fromJS)(c));t.b={option:f}},433:function(e,t,a){\"use strict\";(function(e){a(301);var i,l,n,s=a(305),r=(a(258),a(256)),o=(a(245),a(261)),c=(a(78),a(42)),m=(a(260),a(247)),u=(a(122),a(75)),d=a(0),p=a.n(d),h=a(1),b=a.n(h),f=a(29),E=a(81),g=a(468),v=a(123),N=a(8),k=a.n(N),y=a(229),x=a.n(y),w=a(436),C=a.n(w),L=a(235),I=a.n(L),D=a(255);function P(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const O=e.require(\"path\"),q=e.require(\"fs\"),j=Object(v.createStructuredSelector)({optionList:Object(v.createSelector)(e=>e.has(\"option\")?e.get(\"option\"):null,e=>null!==e?e.get(\"optionList\").toJS():[])});let A=Object(E.b)(j,e=>({action:Object(f.b)({optionList:D.e,cursorOption:D.a,deleteOption:D.c,importOption:D.d},e)}))((n=l=class extends d.Component{constructor(){super(...arguments),P(this,\"state\",void 0),this.state={visible1:!1,visible2:!1}}columns(){return[{title:\"配置名称\",dataIndex:\"name\",key:\"name\",width:\"25%\"},{title:\"QQ号\",dataIndex:\"qqNumber\",key:\"qqNumber\",width:\"25%\"},{title:\"监听群号\",dataIndex:\"groupNumber\",key:\"groupNumber\",width:\"25%\"},{title:\"操作\",key:\"handle\",width:\"25%\",render:(e,t,a)=>[p.a.createElement(g.a,{key:\"link\",to:{pathname:\"/Option/Edit\",query:{detail:t}}},p.a.createElement(u.a,{className:C.a.mr10,size:\"small\"},\"修改\")),p.a.createElement(m.a,{key:\"delete\",title:\"确认要删除该配置项吗？\",onConfirm:this.handleDeleteOptionClick.bind(this,t)},p.a.createElement(u.a,{type:\"danger\",size:\"small\"},\"删除\"))]}]}UNSAFE_componentWillMount(){this.props.action.cursorOption({query:{indexName:\"time\"}})}async handleDeleteOptionClick(e,t){try{const t=this.props.optionList.indexOf(e);await this.props.action.deleteOption({query:e.name}),this.props.optionList.splice(t,1),this.props.action.optionList({optionList:this.props.optionList.slice()})}catch(e){console.error(e)}}handleModalDisplayClick(e,t,a){this.setState({[e]:t})}handleExportConfigurationClick(e){const t=x()(\"#exportConfiguration\").val();if(\"\"===t)return void c.a.error(\"必须选择一个保存位置！\");const{ext:a}=O.parse(t);if(\".json\"!==a)return void c.a.error(\"导出的必须是一个json文件！\");const i=JSON.stringify({configuration:this.props.optionList},null,2);q.writeFile(t,i,e=>{e?c.a.error(\"导出失败！\"):(c.a.success(\"导出成功\"),this.handleModalDisplayClick(\"visible1\",!1))})}handleImportConfigurationClick(e){const t=x()(\"#importConfiguration\").val();if(\"\"===t)return c.a.error(\"必须选择一个文件！\"),!1;const{ext:a}=O.parse(t);if(\".json\"!==a)return c.a.error(\"导入的必须是一个json文件！\"),!1;q.readFile(t,{encoding:\"utf8\"},async(e,t)=>{if(e)c.a.error(\"导入失败\");else{const a=JSON.parse(t);if(\"configuration\"in a)try{await this.props.action.importOption({data:a.configuration}),await this.props.action.cursorOption({query:{indexName:\"time\"}}),c.a.success(\"导入成功\"),this.handleModalDisplayClick(\"visible2\",!1)}catch(e){console.error(e),c.a.error(\"导入失败！\")}}})}render(){return[p.a.createElement(o.a,{key:\"affix\",className:I.a.affix},p.a.createElement(\"div\",{className:k()(I.a.toolsBox,\"clearfix\")},p.a.createElement(\"div\",{className:I.a.fl},p.a.createElement(g.a,{className:C.a.mr10,to:\"/Option/Edit\"},p.a.createElement(u.a,{type:\"primary\",icon:\"plus-circle-o\"},\"添加新配置\")),p.a.createElement(u.a,{className:C.a.mr10,icon:\"export\",onClick:this.handleModalDisplayClick.bind(this,\"visible1\",!0)},\"导出所有配置\"),p.a.createElement(u.a,{icon:\"select\",onClick:this.handleModalDisplayClick.bind(this,\"visible2\",!0)},\"导入所有配置\")),p.a.createElement(\"div\",{className:I.a.fr},p.a.createElement(g.a,{className:I.a.ml10,to:\"/\"},p.a.createElement(u.a,{type:\"danger\",icon:\"poweroff\"},\"返回\"))))),p.a.createElement(\"div\",{key:\"tableBox\",className:I.a.tableBox},p.a.createElement(r.a,{dataSource:this.props.optionList,columns:this.columns(),bordered:!0,rowKey:e=>e.time,pagination:{pageSize:20,showQuickJumper:!0}})),p.a.createElement(s.a,{key:\"modal1\",title:\"导出配置\",visible:this.state.visible1,onOk:this.handleExportConfigurationClick.bind(this),onCancel:this.handleModalDisplayClick.bind(this,\"visible1\",!1)},p.a.createElement(\"input\",{id:\"exportConfiguration\",type:\"file\",nwsaveas:`backup_${(new Date).getTime()}.json`})),p.a.createElement(s.a,{key:\"modal2\",title:\"导入配置\",visible:this.state.visible2,onOk:this.handleImportConfigurationClick.bind(this),onCancel:this.handleModalDisplayClick.bind(this,\"visible2\",!1)},p.a.createElement(\"p\",{className:C.a.tishi},\"同一配置名称会覆盖原有的配置。\"),p.a.createElement(\"input\",{id:\"importConfiguration\",type:\"file\"}))]}},P(l,\"propTypes\",{optionList:b.a.array,action:b.a.objectOf(b.a.func)}),i=n))||i;t.a=A}).call(this,a(28))},436:function(e,t,a){e.exports={mr10:\"_3FzL3\",tishi:\"_2oI3t\"}},443:function(e,t,a){e.exports={form:\"_3Pj8W\",affix:\"_UO3vj\",saveBtn:\"_2k_qz\",coolQP:\"_2e4gT\",coolQShuoming:\"_GEWYU\",title:\"_1LW5b\",template:\"_gRaTV\",mb15:\"_3hnaw\",mr10:\"_32rid\",shuoming:\"_24u5K\",line:\"_2YEoc\",url:\"_pbFAT\",w600:\"_yfU58\",nodeScheduleFormat:\"_2X8Cq\",var:\"_2yuNr\",w200:\"_1PwP4\",addCustom:\"_2UhiQ\",customProfiles:\"_3vCTM\",customLine:\"_1dIuW\"}},455:function(e,t){e.exports=\"data:image/webp;base64,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\"},473:function(e,t,a){\"use strict\";a.r(t);var i=a(0),l=a.n(i),n=a(477),s=a(469),r=a(433),o=(a(301),a(305)),c=(a(258),a(256)),m=(a(438),a(467)),u=(a(275),a(259)),d=(a(244),a(307)),p=(a(245),a(261)),h=(a(78),a(42)),b=(a(260),a(247)),f=(a(122),a(75)),E=(a(309),a(303)),g=a(1),v=a.n(g),N=a(29),k=a(81),y=a(475),x=a(468),w=a(123),C=a(229),L=a.n(C);var I,D,P,O,q,j=function(e,t){const a=function(e){const t={};return L.a.each(e,(e,a)=>{t[a.command]=a.text}),t}(t);return{name:e.name,qqNumber:e.qqNumber,groupNumber:e.groupNumber,socketPort:e.socketPort,time:(new Date).getTime(),basic:{isModian:e.isModian,modianId:e.modianId,modianUrlTemplate:e.modianUrlTemplate,modianTemplate:e.modianTemplate,is48LiveListener:e.is48LiveListener,isListenerAll:e.isListenerAll,kd48LiveListenerMembers:e.kd48LiveListenerMembers,isRoomListener:e.isRoomListener,roomId:e.roomId,isRoomSendImage:e.isRoomSendImage,liveListeningInterval:e.liveListeningInterval,isWeiboListener:e.isWeiboListener,lfid:e.lfid,isNewGroupMember:e.isNewGroupMember,welcomeNewGroupMember:e.welcomeNewGroupMember,isTimingMessagePush:e.isTimingMessagePush,timingMessagePushTime:e.timingMessagePushTime,timingMessagePushFormat:e.timingMessagePushFormat,timingMessagePushText:e.timingMessagePushText},custom:a}},A=a(443),S=a.n(A),T=a(255),M=a(79);function Q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const J=\"摩点|mod|直播列表|zb|help\";function z(e,t){let a=null;for(let i=0,l=e.length;i<l;i++){if(new RegExp(`^\\\\s*(${e[i].command}|${J})\\\\s*$`,\"i\").test(t)){a=i;break}}return a}const B=Object(w.createStructuredSelector)({});var R=(I=E.a.create(),D=Object(k.b)(B,e=>({action:Object(N.b)({putOption:T.f},e)})),Object(y.a)(P=I(P=D((q=O=class extends i.Component{constructor(){super(...arguments),Q(this,\"state\",void 0),this.state={customProfiles:[],modalDisplay:!1,cmd:\"\",text:\"\",item:null}}componentDidMount(){\"query\"in this.props.location&&this.setState({customProfiles:function(e){const t=[];return L.a.each(e,(e,a)=>{t.push({command:e,text:a})}),t}(this.props.location.query.detail.custom)})}columns(){return[{title:\"命令\",dataIndex:\"command\",key:\"command\",width:\"20%\"},{title:\"文本\",dataIndex:\"text\",key:\"text\",width:\"60%\",render:(e,t,a)=>l.a.createElement(\"pre\",null,e)},{title:\"操作\",key:\"handle\",width:\"20%\",render:(e,t,a)=>[l.a.createElement(f.a,{key:\"edit\",className:S.a.mr10,size:\"small\",onClick:this.handleEditClick.bind(this,t)},\"修改\"),l.a.createElement(b.a,{key:\"delete\",title:\"确认要删除吗？\",onConfirm:this.handleDeleteClick.bind(this,t)},l.a.createElement(f.a,{size:\"small\"},\"删除\"))]}]}handleInputChange(e,t){this.setState({[e]:t.target.value})}handleModalOpenClick(e){this.setState({modalDisplay:!0})}handleModalCloseClick(e){this.setState({modalDisplay:!1,cmd:\"\",text:\"\",item:null})}handleAddClick(e){null===z(this.state.customProfiles,this.state.cmd)?(this.state.customProfiles.push({command:this.state.cmd,text:this.state.text}),this.setState({modalDisplay:!1,customProfiles:this.state.customProfiles,cmd:\"\",text:\"\"})):h.a.error(\"该命令已存在！\")}handleEditClick(e,t){this.setState({modalDisplay:!0,cmd:e.command,text:e.text,item:e})}handleSaveClick(e){if(null===z(this.state.customProfiles,this.state.cmd)||this.state.cmd===this.state.item.command){const e=z(this.state.customProfiles,this.state.item.command);this.state.customProfiles[e]={command:this.state.cmd,text:this.state.text},this.setState({modalDisplay:!1,customProfiles:this.state.customProfiles,cmd:\"\",text:\"\"})}else h.a.error(\"该命令已存在！\")}handleDeleteClick(e,t){const a=z(this.state.customProfiles,e.command);this.state.customProfiles.splice(a,1),this.setState({customProfiles:this.state.customProfiles})}handleSubmit(e){e.preventDefault(),this.props.form.validateFields(async(e,t)=>{if(!e){const e=j(t,this.state.customProfiles);await this.props.action.putOption({data:e}),this.props.history.push(\"/Option\")}})}render(){var e,t,i,n,s,r,h,b;const g=\"query\"in this.props.location?this.props.location.query.detail:null,{getFieldDecorator:v}=this.props.form,N=null==g?void 0:null===(e=g.basic)||void 0===e?void 0:e.isModian,k=null==g?void 0:null===(t=g.basic)||void 0===t?void 0:t.is48LiveListener,y=null==g?void 0:null===(i=g.basic)||void 0===i?void 0:i.isListenerAll,w=null==g?void 0:null===(n=g.basic)||void 0===n?void 0:n.isRoomListener,C=null==g?void 0:null===(s=g.basic)||void 0===s?void 0:s.isRoomSendImage,L=null==g?void 0:null===(r=g.basic)||void 0===r?void 0:r.isWeiboListener,I=null==g?void 0:null===(h=g.basic)||void 0===h?void 0:h.isNewGroupMember,D=null==g?void 0:null===(b=g.basic)||void 0===b?void 0:b.isTimingMessagePush;return[l.a.createElement(E.a,{key:\"form\",className:S.a.form,layout:\"inline\",onSubmit:this.handleSubmit.bind(this)},l.a.createElement(p.a,{className:S.a.affix},l.a.createElement(f.a,{className:S.a.saveBtn,type:\"primary\",htmlType:\"submit\",size:\"default\",icon:\"hdd\"},\"保存\"),l.a.createElement(\"br\",null),l.a.createElement(x.a,{to:\"/Option\"},l.a.createElement(f.a,{type:\"danger\",size:\"default\",icon:\"poweroff\"},\"返回\"))),l.a.createElement(\"div\",null,l.a.createElement(E.a.Item,{label:\"配置名称\"},v(\"name\",{initialValue:g?g.name:\"\",rules:[{message:\"必须输入配置名称\",required:!0,whitespace:!0}]})(l.a.createElement(d.a,{placeholder:\"输入配置名称\",readOnly:g}))),l.a.createElement(E.a.Item,{label:\"QQ号\"},v(\"qqNumber\",{initialValue:g?g.qqNumber:\"\",rules:[{message:\"必须输入QQ号\",required:!0,whitespace:!0}]})(l.a.createElement(d.a,{placeholder:\"输入配置名称\"}))),l.a.createElement(E.a.Item,{label:\"Socket端口号\"},v(\"socketPort\",{initialValue:g?g.socketPort:\"6700\",rules:[{message:\"必须输入Socket端口号\",required:!0,whitespace:!0}]})(l.a.createElement(d.a,{placeholder:\"输入配置名称\"}))),l.a.createElement(E.a.Item,{label:\"监听群号\"},v(\"groupNumber\",{initialValue:g?g.groupNumber:\"\",rules:[{message:\"必须输入要监听的群号\",required:!0,whitespace:!0}]})(l.a.createElement(d.a,{placeholder:\"输入群号\"}))),l.a.createElement(\"p\",{className:S.a.coolQP},\"Sockte端口号请到\",l.a.createElement(\"b\",null,\"酷Q\"),\"文件下，找到\",l.a.createElement(\"b\",null,\"app/io.github.richardchien.coolqhttpapi\"),\"文件夹，编辑\",l.a.createElement(\"b\",null,\"config.cfg\"),\"文件，添加如下配置\"),l.a.createElement(d.a.TextArea,{className:S.a.coolQShuoming,id:\"copy-option-shuoming\",value:\"[QQ号]\\nws_port=端口号(比如:6800)\\n\",rows:4,readOnly:!0}),l.a.createElement(f.a,{icon:\"copy\",title:\"复制\",onClick:M.a.bind(this,\"copy-option-shuoming\")}),l.a.createElement(\"hr\",{className:S.a.line})),l.a.createElement(\"h4\",{className:S.a.title},\"摩点项目配置：\"),l.a.createElement(\"div\",null,l.a.createElement(E.a.Item,{className:S.a.mb15,label:\"开启摩点相关功能\"},v(\"isModian\",{initialValue:N})(l.a.createElement(u.a,{defaultChecked:N}))),l.a.createElement(E.a.Item,{className:S.a.mb15,label:\"摩点ID\"},v(\"modianId\",{initialValue:g?g.basic.modianId:\"\"})(l.a.createElement(d.a,null))),l.a.createElement(\"br\",null),l.a.createElement(E.a.Item,{className:S.a.mb15,label:\"摩点命令\"},l.a.createElement(\"div\",{className:\"clearfix\"},v(\"modianUrlTemplate\",{initialValue:g?g.basic.modianUrlTemplate:\"摩点：{{ modianname }}\\nhttps://m.modian.com/project/{{ modianid }}.html\"})(l.a.createElement(d.a.TextArea,{className:S.a.template,rows:5})),l.a.createElement(\"p\",{className:S.a.shuoming},l.a.createElement(\"b\",null,\"模板关键字：\"),l.a.createElement(\"br\",null),\"modianname：摩点项目的名称，\",l.a.createElement(\"br\",null),\"modianid：摩点项目的ID\"))),l.a.createElement(\"br\",null),l.a.createElement(E.a.Item,{label:\"集资提示\"},l.a.createElement(\"div\",{className:\"clearfix\"},v(\"modianTemplate\",{initialValue:g?g.basic.modianTemplate:\"@{{ id }} 刚刚在【{{ modianname }}】打赏了{{ money }}元，感谢这位聚聚！\\n摩点项目地址：https://m.modian.com/project/{{ modianid }}.html\\n当前进度：￥{{ alreadyraised }} / ￥{{ goal }}\\n集资参与人数：{{ backercount }}人\\n项目截止时间：{{ endtime }}\"})(l.a.createElement(d.a.TextArea,{className:S.a.template,rows:10})),l.a.createElement(\"p\",{className:S.a.shuoming},l.a.createElement(\"b\",null,\"模板关键字：\"),l.a.createElement(\"br\",null),\"id：打赏人的ID，\",l.a.createElement(\"br\",null),\"money：打赏金额，\",l.a.createElement(\"br\",null),\"modianname：摩点项目的名称，\",l.a.createElement(\"br\",null),\"modianid：摩点项目的ID，\",l.a.createElement(\"br\",null),\"goal：摩点项目目标\",l.a.createElement(\"br\",null),\"alreadyraised：当前已打赏金额\",l.a.createElement(\"br\",null),\"backercount：集资参与人数\",l.a.createElement(\"br\",null),\"endtime：项目截止时间\")))),l.a.createElement(\"h4\",{className:S.a.title},\"直播监听：\"),l.a.createElement(\"div\",null,l.a.createElement(E.a.Item,{className:S.a.mb15,label:\"开启口袋48直播监听功能\"},v(\"is48LiveListener\",{initialValue:k})(l.a.createElement(u.a,{defaultChecked:k}))),l.a.createElement(E.a.Item,{className:S.a.mb15,label:\"监听所有成员\"},v(\"isListenerAll\",{initialValue:y})(l.a.createElement(u.a,{defaultChecked:y}))),l.a.createElement(\"br\",null),l.a.createElement(E.a.Item,{label:\"监听成员\"},l.a.createElement(\"div\",{className:\"clearfix\"},v(\"kd48LiveListenerMembers\",{initialValue:g?g.basic.kd48LiveListenerMembers:\"\"})(l.a.createElement(d.a.TextArea,{className:S.a.template,rows:5})),l.a.createElement(\"p\",{className:S.a.shuoming},'多个成员名字或成员ID之间用\",\"（半角逗号）分隔。')))),l.a.createElement(\"h4\",{className:S.a.title},\"成员房间信息监听配置：\"),l.a.createElement(\"p\",null,\"如果未登录，无法监听成员房间信息。\"),l.a.createElement(\"div\",null,l.a.createElement(E.a.Item,{className:S.a.mb15,label:\"开启成员房间信息监听\"},v(\"isRoomListener\",{initialValue:w})(l.a.createElement(u.a,{defaultChecked:w}))),l.a.createElement(E.a.Item,{className:S.a.mb15,label:\"房间ID\"},v(\"roomId\",{initialValue:g?g.basic.roomId:\"\"})(l.a.createElement(d.a,null))),l.a.createElement(E.a.Item,{className:S.a.mb15,label:\"发送图片和图片链接（只限于酷QPro版本）\"},v(\"isRoomSendImage\",{initialValue:C})(l.a.createElement(u.a,{defaultChecked:C}))),l.a.createElement(E.a.Item,{className:S.a.mb15,label:\"监听间隔（秒）\"},v(\"liveListeningInterval\",{initialValue:g?g.basic.liveListeningInterval:15,rules:[{message:\"必须输入监听间隔\",required:!0},{validator:(e,t,a)=>{t<15?a(e.message):a()},message:\"监听间隔必须大于15秒\"}]})(l.a.createElement(m.a,{className:S.a.w200})))),l.a.createElement(\"h4\",{className:S.a.title},\"成员微博监听配置：\"),l.a.createElement(\"p\",null,\"微博lfid配置方法：\",l.a.createElement(\"a\",{onClick:M.b.bind(this,\"https://github.com/duan602728596/qqtools/tree/master#微博的lfid查找方法\")},\"https://github.com/duan602728596/qqtools/tree/master#微博的lfid查找方法\")),l.a.createElement(\"div\",null,l.a.createElement(E.a.Item,{className:S.a.mb15,label:\"开启成员微博监听\"},v(\"isWeiboListener\",{initialValue:L})(l.a.createElement(u.a,{defaultChecked:L}))),l.a.createElement(E.a.Item,{className:S.a.mb15,label:\"微博lfid\"},v(\"lfid\",{initialValue:g?g.basic.lfid:\"\"})(l.a.createElement(d.a,null)))),l.a.createElement(\"h4\",{className:S.a.title},\"欢迎新成员配置：\"),l.a.createElement(\"div\",null,l.a.createElement(E.a.Item,{className:S.a.mb15,label:\"开启新成员欢迎功能\"},v(\"isNewGroupMember\",{initialValue:I})(l.a.createElement(u.a,{defaultChecked:I}))),l.a.createElement(\"br\",null),l.a.createElement(E.a.Item,{label:\"欢迎词\"},l.a.createElement(\"div\",{className:\"clearfix\"},v(\"welcomeNewGroupMember\",{initialValue:g?g.basic.welcomeNewGroupMember:\"欢迎{{ nickname }}加入。\"})(l.a.createElement(d.a.TextArea,{className:S.a.template,rows:5})),l.a.createElement(\"p\",{className:S.a.shuoming},l.a.createElement(\"b\",null,\"模板关键字：\"),l.a.createElement(\"br\",null),\"nickname：群成员的昵称\")))),l.a.createElement(\"h4\",{className:S.a.title},\"群内定时消息推送：\"),l.a.createElement(\"div\",null,l.a.createElement(E.a.Item,{className:S.a.mb15,label:\"开启群内定时消息推送功能\"},v(\"isTimingMessagePush\",{initialValue:D})(l.a.createElement(u.a,{defaultChecked:D}))),l.a.createElement(E.a.Item,{className:S.a.mb15,label:\"规则配置\"},v(\"timingMessagePushFormat\",{initialValue:g?g.basic.timingMessagePushFormat:\"\"})(l.a.createElement(d.a,{className:S.a.w600}))),l.a.createElement(\"p\",null,\"规则格式：\",l.a.createElement(\"img\",{className:S.a.nodeScheduleFormat,src:a(455)})),l.a.createElement(\"p\",null,\"如果不配置该位置，则用“*”占位；\"),l.a.createElement(\"p\",null,\"多个时间段用“,”分割，比如\",l.a.createElement(\"var\",{className:S.a.var},\"2,4,6\"),\"表示；\"),l.a.createElement(\"p\",null,\"连续时间段用类似\",l.a.createElement(\"var\",{className:S.a.var},\"2-6\"),\"表示；\"),l.a.createElement(\"p\",null,\"每隔多长时间，可以用类似\",l.a.createElement(\"var\",{className:S.a.var},\"*/5\"),\"表示；\"),l.a.createElement(\"p\",null,\"每个规则不要有空格，规则和规则之间要有空格。\"),l.a.createElement(\"br\",null),l.a.createElement(E.a.Item,{label:\"推送消息\"},l.a.createElement(\"div\",{className:\"clearfix\"},v(\"timingMessagePushText\",{initialValue:g?g.basic.timingMessagePushText:\"\"})(l.a.createElement(d.a.TextArea,{className:S.a.template,rows:10}))))),l.a.createElement(\"hr\",{className:S.a.line}),l.a.createElement(\"h4\",{className:S.a.title},\"自定义命令：\"),l.a.createElement(f.a,{className:S.a.addCustom,size:\"small\",onClick:this.handleModalOpenClick.bind(this)},\"添加新自定义命令\"),l.a.createElement(c.a,{columns:this.columns(),dataSource:this.state.customProfiles,size:\"small\",rowKey:e=>e.command})),l.a.createElement(o.a,{key:\"modal\",title:this.state.item?\"修改\":\"添加自定义命令\",visible:this.state.modalDisplay,width:\"500px\",maskClosable:!1,onOk:this.state.item?this.handleSaveClick.bind(this):this.handleAddClick.bind(this),onCancel:this.handleModalCloseClick.bind(this)},l.a.createElement(\"div\",{className:S.a.customProfiles},l.a.createElement(\"label\",{className:S.a.customLine,htmlFor:\"customCmd\"},\"命令：\"),l.a.createElement(d.a,{className:S.a.customLine,id:\"customCmd\",readOnly:this.state.item,value:this.state.cmd,onChange:this.handleInputChange.bind(this,\"cmd\")}),l.a.createElement(\"label\",{className:S.a.customLine,htmlFor:\"customText\"},\"文本：\"),l.a.createElement(d.a.TextArea,{className:S.a.customLine,id:\"customText\",rows:15,value:this.state.text,onChange:this.handleInputChange.bind(this,\"text\")})))]}},Q(O,\"propTypes\",{action:v.a.objectOf(v.a.func),form:v.a.object,history:v.a.object,location:v.a.object,match:v.a.object}),P=q))||P)||P)||P);a.d(t,\"reducer\",function(){return T.b});t.default=(e=>l.a.createElement(n.a,null,l.a.createElement(s.a,{path:\"/Option\",component:r.a,exact:!0}),l.a.createElement(s.a,{path:\"/Option/Edit\",component:R,exact:!0})))}}]);","extractedComments":[]}