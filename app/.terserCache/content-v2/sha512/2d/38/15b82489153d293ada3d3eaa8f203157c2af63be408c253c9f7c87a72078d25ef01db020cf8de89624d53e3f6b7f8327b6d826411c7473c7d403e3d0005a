{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{317:function(e,t,n){e.exports={toolsBox:\"_2OOgf\",tableBox:\"_3locr\",fl:\"_2If2e\",fr:\"_2v1iu\",mr10:\"_R-c_O\",ml10:\"_k05_a\",affix:\"_2kc2R\"}},320:function(e,t,n){\"use strict\";(function(e){n.d(t,\"d\",function(){return d}),n.d(t,\"a\",function(){return m}),n.d(t,\"f\",function(){return h}),n.d(t,\"e\",function(){return p}),n.d(t,\"g\",function(){return f}),n.d(t,\"b\",function(){return g}),n.d(t,\"c\",function(){return b});var a=n(328),i=n.n(a),s=n(327),o=n.n(s);const r=e.require(\"request\"),c={method:\"POST\",json:!0};function l(e){const t=\"QWERTYUIOPASDFGHJKLZXCVBNM1234567890\";let n=\"\";for(let a=0;a<e;a++){n+=t[Math.floor(Math.random()*t.length)]}return n}function u(e){return{\"Content-Type\":\"application/json;charset=utf-8\",appInfo:o()({vendor:\"apple\",deviceId:`${l(8)}-${l(4)}-${l(4)}-${l(4)}-${l(12)}`,appVersion:\"6.0.1\",appBuild:\"190420\",osVersion:\"11.4.1\",osType:\"ios\",deviceName:\"iPhone 6s\",os:\"ios\"}),\"User-Agent\":\"PocketFans201807/6.0.1 (iPhone; iOS 11.4.1; Scale/2.00)\",\"Accept-Language\":\"zh-Hans-AW;q=1\",Host:\"pocketapi.48.cn\",token:e}}function d(e,t){return new i.a((n,a)=>{r({...c,headers:u(),uri:\"https://pocketapi.48.cn/user/api/v1/login/app/mobile\",body:{mobile:e,pwd:t},gzip:!0,timeout:6e4},(e,t,i)=>{e?a(e):n(i)})}).catch(e=>{console.error(e)})}function m(e){return new i.a((t,n)=>{r({...c,headers:u(e),uri:\"https://pocketapi.48.cn/user/api/v1/friendships/friends/id\",body:{},gzip:!0,timeout:2e4},(e,a,i)=>{e?n(e):t(i)})}).catch(e=>{console.error(e)})}function h(e,t){return new i.a((n,a)=>{r({uri:\"https://pocketapi.48.cn/im/api/v1/chatroom/msg/list/homeowner\",method:\"POST\",headers:u(t),json:!0,body:{needTop1Msg:!1,roomId:e,nextTime:0},gzip:!0,timeout:2e4},(e,t,i)=>{e?a(e):n(i)})}).catch(e=>{console.error(e)})}function p(e,t,n){return new i.a((a,i)=>{r({uri:\"https://pocketapi.48.cn/idolanswer/api/idolanswer/v1/question_answer/detail\",method:\"POST\",headers:u(e),json:!0,body:{questionId:t,answerId:n},gzip:!0,timeout:2e4},(e,t,n)=>{e?i(e):a(n)})}).catch(e=>{console.error(e)})}function f(e){return new i.a((t,n)=>{r({uri:\"https://pocketapi.48.cn/im/api/v1/conversation/page\",method:\"POST\",headers:u(e),json:!0,body:{targetType:0},gzip:!0,timeout:6e4},(e,a,i)=>{e?n(e):t(i)})}).catch(e=>{console.error(e)})}function g(e){return new i.a((t,n)=>{r({uri:\"https://pocketapi.48.cn/live/api/v1/live/getLiveOne\",method:\"POST\",headers:u(),json:!0,body:{liveId:e}},function(e,a,i){e?n(e):t(i)})})}function b(e=0,t=!1){return new i.a((n,a)=>{const i={debug:!0,next:e};t&&(i.groupId=0,i.record=!1),r({uri:\"https://pocketapi.48.cn/live/api/v1/live/getLiveList\",method:\"POST\",headers:u(),json:!0,body:i},function(e,t,i){e?a(e):n(i)})})}}).call(this,n(27))},324:function(e,t,n){\"use strict\";var a=n(299),i=n(0),s=n.n(i),o=n(1),r=n.n(o);t.a=function(e){return function(t){var n,o;return o=n=class extends i.Component{constructor(){var t;super(...arguments);const n=(null==this?void 0:null===(t=this.props)||void 0===t?void 0:t.injectReducers)||null;n&&n(e)}render(){return s.a.createElement(t,null)}},Object(a.a)(n,\"propTypes\",{injectReducers:r.a.func}),o}}},344:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return l}),n.d(t,\"b\",function(){return d}),n.d(t,\"d\",function(){return m}),n.d(t,\"e\",function(){return h});var a=n(636),i=n(633),s=n(43),o=n(110),r=n(167);const c={qqLoginList:Object(s.List)([]),optionList:Object(s.List)([]),kd48LiveListenerTimer:null},l=Object(a.a)(\"获取已登录的列表\"),u=Object(a.a)(\"配置列表\"),d=r.a.cursorAction({objectStoreName:o.a.indexeddb.objectStore[0].name,successAction:u}),m=r.a.getAction({objectStoreName:o.a.indexeddb.objectStore[2].name}),h=Object(a.a)(\"口袋直播监听\"),p=Object(i.a)({[l]:(e,t)=>e.set(\"qqLoginList\",Object(s.List)(t.payload.qqLoginList)),[u]:(e,t)=>{const n=\"optionList\"in t.payload?t.payload.optionList:t.payload.result;return e.set(\"optionList\",Object(s.List)(n))},[h]:(e,t)=>e.set(\"kd48LiveListenerTimer\",t.payload.timer)},Object(s.fromJS)(c));t.c={login:p}},345:function(e,t,n){e.exports=n(346)},346:function(e,t,n){e.exports=n(347)},347:function(e,t,n){var a=n(348),i=Array.prototype;e.exports=function(e){var t=e.slice;return e===i||e instanceof Array&&t===i.slice?a:t}},348:function(e,t,n){n(349),e.exports=n(68)(\"Array\").slice},349:function(e,t,n){\"use strict\";var a=n(41),i=n(163),s=n(109),o=n(100),r=n(70),c=n(169),l=n(96)(\"species\"),u=[].slice,d=Math.max,m=n(164)(\"slice\");n(49)({target:\"Array\",proto:!0,forced:!m},{slice:function(e,t){var n,m,h,p=r(this),f=o(p.length),g=s(e,f),b=s(void 0===t?f:t,f);if(i(p)&&(\"function\"!=typeof(n=p.constructor)||n!==Array&&!i(n.prototype)?a(n)&&null===(n=n[l])&&(n=void 0):n=void 0,n===Array||void 0===n))return u.call(p,g,b);for(m=new(void 0===n?Array:n)(d(b-g,0)),h=0;g<b;g++,h++)g in p&&c(m,h,p[g]);return m.length=h,m}})},369:function(e,t,n){\"use strict\";(function(e){n.d(t,\"b\",function(){return c}),n.d(t,\"c\",function(){return l}),n.d(t,\"a\",function(){return u}),n.d(t,\"d\",function(){return d}),n.d(t,\"e\",function(){return m});var a=n(327),i=n.n(a),s=n(328),o=n.n(s);const r=e.require(\"mysql\");function c(e,t){const n=r.createConnection({host:e.hostname,port:e.port,user:e.user,password:e.password,database:e.database});return n.connect(),new o.a((a,i)=>{n.query(`SELECT id, userid, nickname, record from ${e.table} WHERE userid=?`,[t],(e,t,s)=>{e?i(e):a(t),n.end()})})}function l(e,t){const n=r.createConnection({host:e.hostname,port:e.port,user:e.user,password:e.password,database:e.database});return n.connect(),new o.a((a,i)=>{n.query(`SELECT id, userid, nickname, record from ${e.table} WHERE userid=? OR nickname=?`,[t,t],(e,t,s)=>{e?i(e):a(t),n.end()})})}function u(e,t,n,a){const s=r.createConnection({host:e.hostname,port:e.port,user:e.user,password:e.password,database:e.database});return s.connect(),new o.a((o,r)=>{s.query(`INSERT INTO ${e.table} (userid, nickname, record) VALUES (?, ?, ?)`,[t,n,i()(a)],(e,t,n)=>{e?r(e):o(t),s.end()})})}function d(e,t,n,a){const s=r.createConnection({host:e.hostname,port:e.port,user:e.user,password:e.password,database:e.database});return s.connect(),new o.a((o,r)=>{s.query(`UPDATE ${e.table} SET nickname=?, record=? WHERE userid=?`,[n,i()(a),t],(e,t,n)=>{e?r(e):o(t),s.end()})})}function m(e,t,n){const a=r.createConnection({host:e.hostname,port:e.port,user:e.user,password:e.password,database:e.database});return a.connect(),new o.a((s,o)=>{a.query(`UPDATE ${e.table} SET record=? WHERE userid=?`,[i()(n),t],(e,t,n)=>{e?o(e):s(t),a.end()})})}}).call(this,n(27))},398:function(e,t,n){e.exports={body:\"_3sDhV\",o:\"_AEzmp\",zhuyi:\"_1wfzM\",noOption:\"_2Qx3b\",changeOption:\"_76pQs\",select:\"_2NclR\",detail:\"_2Z0ol\",tdGTitle:\"_3n8Ks\",tdTitle:\"_3iG1M\",on:\"_3sp_b\",off:\"_2crnb\",td1:\"_1qXBL\",td2:\"_1Z-mL\"}},410:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return l});var a=n(71),i=n.n(a),s=n(574),o=n.n(s);function r(e){return Math.floor(Math.random()*e)}function c(e){const t=[];for(let a=0,i=e.length;a<i;a++){const{level:n=\"\",length:i=0,data:s}=e[a],c=s.length;if(!(s&&o()(s)&&s.length>0))break;for(let e=0;e<i;e++)t.push({...s[r(c)],level:n,levelNum:a})}const n=[];for(;t.length>0;){const e=r(t.length);n.push(t[e]),i()(t).call(t,e,1)}return n}function l(e,t,n,a=0,i=null){const s=!(null==i),o=s?i:Math.floor(n/t);let l=0;!s&&a>0&&o>=a&&(l=Math.floor(o/a));const u=o+l,d={};for(let m=0;m<u;m++){const t=c(e),n={...t[r(t.length)]};n.id in d?d[n.id].length+=1:(n.length=1,d[n.id]=n)}return d}},411:function(e,t,n){\"use strict\";var a=n(328),i=n.n(a),s=n(298),o=n.n(s),r=n(579);t.a=function(e){const t=Object(r.a)(`pro_id=${e}`);return new i.a((e,n)=>{o.a.ajax({type:\"POST\",url:\"https://wds.modian.com/api/project/detail\",cache:!0,data:t,dataType:\"json\",success(t,n,a){const i=t.data[0];e({title:i.pro_name,already_raised:i.already_raised,goal:i.goal,backer_count:i.backer_count,end_time:i.end_time})},error(e){n(e)}})}).catch(e=>{console.error(e)})}},419:function(e,t,n){\"use strict\";(function(e){n(341);var a,i,s,o=n(339),r=(n(330),n(342)),c=n(345),l=n.n(c),u=n(71),d=n.n(u),m=n(119),h=n.n(m),p=(n(343),n(331)),f=(n(304),n(302)),g=n(52),b=n.n(g),v=n(299),E=n(0),L=n.n(E),k=n(1),q=n.n(k),y=n(34),T=n(102),S=n(7),w=n(316),N=n(3),O=n.n(N),j=n(317),$=n.n(j),I=n(344);const M=e=>e.has(\"login\")?e.get(\"login\"):null,_=Object(w.b)({qqLoginList:Object(w.a)(M,e=>null!==e?e.get(\"qqLoginList\").toJS():[]),kd48LiveListenerTimer:Object(w.a)(M,e=>null!==e?e.get(\"kd48LiveListenerTimer\"):null)});let x=Object(T.b)(_,e=>({action:Object(y.b)({changeQQLoginList:I.a,kd48LiveListenerTimer:I.e},e)}))((s=i=class extends E.Component{columus(){return[{title:\"配置名称\",key:\"optionName\",width:\"25%\",render:(e,t)=>t.option.name},{title:\"QQ号\",key:\"qqNumber\",width:\"25%\",render:(e,t)=>t.qq},{title:\"监听群号\",key:\"groupNumber\",width:\"25%\",render:(e,t)=>t.option.groupNumber},{title:\"操作\",key:\"handle\",width:\"25%\",render:(e,t)=>{var n;return L.a.createElement(p.a,{title:\"确认要退出吗？\",onConfirm:b()(n=this.handleLogOutClick).call(n,this,t)},L.a.createElement(f.a,{type:\"danger\",size:\"small\",icon:\"logout\"},\"退出\"))}}]}handleLogOutClick(t,n){var a,i,s;const o=h()(a=this.props.qqLoginList).call(a,t);if(t.outAndClear(),d()(i=this.props.qqLoginList).call(i,o,1),this.props.action.changeQQLoginList({qqLoginList:l()(s=this.props.qqLoginList).call(s)}),null!==this.props.kd48LiveListenerTimer){let t=!1;for(let e=0,n=this.props.qqLoginList.length;e<n;e++){const n=this.props.qqLoginList[e];if(n.option.basic.is48LiveListener&&n.members){t=!0;break}}!1===t&&(e.clearInterval(this.props.kd48LiveListenerTimer),this.props.action.kd48LiveListenerTimer({timer:null}))}}render(){return[L.a.createElement(r.a,{key:\"affix\",className:$.a.affix},L.a.createElement(\"div\",{className:O()($.a.toolsBox,\"clearfix\")},L.a.createElement(\"div\",{className:$.a.fl},L.a.createElement(S.b,{className:$.a.mr10,to:\"/Login/Login\"},L.a.createElement(f.a,{type:\"primary\",icon:\"windows-o\"},\"登录\"))),L.a.createElement(\"div\",{className:$.a.fr},L.a.createElement(S.b,{className:$.a.ml10,to:\"/\"},L.a.createElement(f.a,{type:\"danger\",icon:\"poweroff\"},\"返回\"))))),L.a.createElement(\"div\",{key:\"tableBox\",className:$.a.tableBox},L.a.createElement(o.a,{bordered:!0,columns:this.columus(),rowKey:e=>e.time,dataSource:this.props.qqLoginList,pagination:{pageSize:20,showQuickJumper:!0}}))]}},Object(v.a)(i,\"propTypes\",{qqLoginList:q.a.array,kd48LiveListenerTimer:q.a.number,action:q.a.objectOf(q.a.func)}),a=s))||a;t.a=x}).call(this,n(27))},530:function(e,t,n){\"use strict\";(function(e){n(304);var a,i,s,o,r=n(302),c=n(531),l=n.n(c),u=(n(319),n(322)),d=n(52),m=n.n(d),h=(n(380),n(374)),p=n(363),f=n.n(p),g=n(299),b=n(0),v=n.n(b),E=n(1),L=n.n(E),k=n(34),q=n(102),y=n(32),T=n(7),S=n(316),w=n(91),N=n.n(w),O=n(398),j=n.n(O),$=n(317),I=n.n($),M=n(541),_=n(344),x=n(628),A=n(595),C=n(411),Q=n(31),W=n(596),P=n(598),R=n.n(P),D=n(599),J=n.n(D),G=n(320);const z=e.require(\"node-schedule\"),U=e=>e.has(\"login\")?e.get(\"login\"):null,F=Object(S.b)({qqLoginList:Object(S.a)(U,e=>null!==e?e.get(\"qqLoginList\").toJS():[]),optionList:Object(S.a)(U,e=>null!==e?e.get(\"optionList\").toJS():[]),kd48LiveListenerTimer:Object(S.a)(U,e=>null!==e?e.get(\"kd48LiveListenerTimer\"):null)});let V=(a=Object(q.b)(F,e=>({action:Object(k.b)({changeQQLoginList:_.a,cursorOption:_.b,kd48LiveListenerTimer:_.e,getLoginInformation:_.d},e)})),Object(y.e)(i=a((o=s=class extends b.Component{constructor(){super(...arguments),this.qq=null,this.timer=null,this.state={btnLoading:!1,optionItemIndex:null}}componentDidMount(){this.props.action.cursorOption({query:{indexName:\"time\"}})}selectOptionView(){var e;return f()(e=this.props.optionList).call(e,(e,t)=>{const n=`${t}`;return v.a.createElement(h.a.Option,{key:n,value:n},e.name)})}handleOptionSelect(e,t){this.setState({optionItemIndex:e})}async loginSuccess(){try{const o=this.qq.option.basic;if(this.qq.time=N()().unix(),this.qq.getCoolQVersionInfo(),o.isModian){var t;const{title:e,goal:n}=await Object(C.a)(o.modianId);this.qq.modianTitle=e,this.qq.modianGoal=n,this.qq.modianWorker=new R.a,this.qq.modianWorker.postMessage({type:\"init\",modianId:o.modianId,title:e,goal:n}),this.qq.modianWorker.addEventListener(\"message\",m()(t=this.qq.listenModianWorkerCbInformation).call(t,this.qq),!1),u.a.success(\"摩点监听已就绪。\")}if(o.isChouka&&(Object(Q.a)(o.choukaJson),this.qq.choukaJson=e.require(o.choukaJson),this.qq.bukaQQNumber=Object(Q.c)(o.bukaQQNumber),u.a.success(\"抽卡已就绪。\")),o.is48LiveListener&&(this.qq.members=Object(Q.d)(o.kd48LiveListenerMembers),this.qq.memberId=Object(Q.c)(o.kd48LiveListenerMembers),await Object(W.b)(),null===this.props.kd48LiveListenerTimer&&this.props.action.kd48LiveListenerTimer({timer:e.setInterval(W.a,15e3)}),u.a.success(\"口袋48直播监听已就绪。\")),o.isRoomListener){const t=await this.props.action.getLoginInformation({query:\"loginInformation\"});if(void 0!==t.result){this.qq.kouDai48Token=t.result.value.token;const a=await Object(G.f)(o.roomId,this.qq.kouDai48Token);var n;if(console.log(\"request: room listen\",a),200===a.status)this.qq.roomLastTime=a.content.message[0].msgTime,this.qq.roomListenerTimer=e.setTimeout(m()(n=this.qq.listenRoomMessage).call(n,this.qq),o.liveListeningInterval?1e3*o.liveListeningInterval:15e3),u.a.success(\"口袋48房间监听已就绪。\");else u.a.warn(`口袋48房间监：${a.message}。`)}}var a,i;if(o.isWeiboListener)this.qq.weiboWorker=new J.a,this.qq.weiboWorker.postMessage({type:\"init\",containerid:o.lfid}),this.qq.weiboWorker.addEventListener(\"message\",m()(a=this.qq.listenWeiboWorkerCbInformation).call(a,this.qq),!1),u.a.success(\"微博监听已就绪。\");if(o.isTimingMessagePush)this.qq.timingMessagePushTimer=z.scheduleJob(o.timingMessagePushFormat,m()(i=this.qq.timingMessagePush).call(i,this.qq,o.timingMessagePushText)),u.a.success(\"群内定时消息推送已就绪。\");const r=this.props.qqLoginList;r.push(this.qq),this.props.action.changeQQLoginList({qqLoginList:r}),this.qq=null,this.props.history.push(\"/Login\")}catch(s){console.error(s)}}loginCb(){if(!0===this.qq.isEventSuccess&&!0===this.qq.isApiSuccess)this.loginSuccess();else if(!0===this.qq.isError)this.qq=null,this.setState({btnLoading:!1});else{var e;this.timer=l()(m()(e=this.loginCb).call(e,this),100)}}handleLoginClick(e){this.setState({btnLoading:!0});const t=this.props.optionList[Number(this.state.optionItemIndex)];this.qq=new M.a(t.qqNumber,t.socketPort,x.a),this.qq.option=t,this.qq.init(),this.loginCb()}componentWillUnmount(){if(this.timer&&e.clearInterval(this.timer),null!==this.qq){if(this.qq.outAndClear(),null!==this.props.kd48LiveListenerTimer){let t=!1;for(let e=0,n=this.props.qqLoginList.length;e<n;e++){const n=this.props.qqLoginList[e];if(n.option.basic.is48LiveListener&&n.members){t=!0;break}}!1===t&&(e.clearInterval(this.props.kd48LiveListenerTimer),this.props.action.kd48LiveListenerTimer({timer:null}))}this.qq=null}}render(){var e,t;const n=this.state.optionItemIndex?Number(this.state.optionItemIndex):null;return v.a.createElement(\"div\",{className:j.a.body},v.a.createElement(\"div\",{className:j.a.changeOption},v.a.createElement(\"p\",{className:j.a.zhuyi},\"注意：要先登录酷Q！\"),v.a.createElement(\"label\",null,\"选择一个配置文件：\"),v.a.createElement(h.a,{className:j.a.select,dropdownClassName:j.a.select,value:this.state.optionItemIndex,onSelect:m()(e=this.handleOptionSelect).call(e,this)},this.selectOptionView()),v.a.createElement(T.b,{className:I.a.ml10,to:\"/Login\"},v.a.createElement(r.a,{type:\"danger\"},\"返回\")),v.a.createElement(r.a,{className:I.a.ml10,type:\"primary\",loading:this.state.btnLoading,disabled:!this.state.optionItemIndex,onClick:m()(t=this.handleLoginClick).call(t,this)},\"连接\")),v.a.createElement(A.a,{detail:null===n?null:this.props.optionList[n]}))}},Object(g.a)(s,\"propTypes\",{qqLoginList:L.a.array,optionList:L.a.array,kd48LiveListenerTimer:L.a.number,action:L.a.objectOf(L.a.func),history:L.a.object,location:L.a.object,match:L.a.object}),i=o))||i)||i);t.a=V}).call(this,n(27))},531:function(e,t,n){e.exports=n(532)},532:function(e,t,n){e.exports=n(533)},533:function(e,t,n){n(534),e.exports=n(67).setTimeout},534:function(e,t,n){var a=n(40),i=n(362),s=[].slice,o=/MSIE .\\./.test(i),r=function(e){return function(t,n){var a=arguments.length>2,i=!!a&&s.call(arguments,2);return e(a?function(){(\"function\"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};n(49)({global:!0,bind:!0,forced:o},{setTimeout:r(a.setTimeout),setInterval:r(a.setInterval)})},541:function(e,t,n){\"use strict\";(function(e){var a=n(327),i=n.n(a),s=(n(319),n(322)),o=n(52),r=n.n(o),c=n(632),l=n(320),u=n(31),d=n(410),m=n(369);t.a=class{constructor(e,t,n){var a,i,s,o,c,l;this.time=null,this.qq=e,this.port=t,this.isError=!1,this.eventUrl=`ws://127.0.0.1:${this.port}/event/`,this.eventSocket=null,this.isEventSuccess=!1,this.apiUrl=`ws://127.0.0.1:${this.port}/api/`,this.apiSocket=null,this.isApiSuccess=!1,this.callback=n,this.coolqEdition=\"air\",this.option=null,this.modianTitle=null,this.modianGoal=null,this.modianWorker=null,this.choukaJson=null,this.bukaQQNumber=null,this.members=null,this.memberId=null,this.roomListenerTimer=null,this.roomLastTime=null,this.kouDai48Token=null,this.weiboWorker=null,this.timingMessagePushTimer=null,this.handleOpenEventSocket=r()(a=this._handleOpenSocket).call(a,this,\"isEventSuccess\",\"event\"),this.handleEventSocketError=r()(i=this._handleSocketError).call(i,this,\"event\"),this.handleListenerEventMessage=r()(s=this._handleListenerMessage).call(s,this,\"event\"),this.handleOpenApiSocket=r()(o=this._handleOpenSocket).call(o,this,\"isApiSuccess\",\"api\"),this.handleApiSocketError=r()(c=this._handleSocketError).call(c,this,\"api\"),this.handleListenerApiMessage=r()(l=this._handleListenerMessage).call(l,this,\"api\")}_handleOpenSocket(e,t,n){this[e]=!0,s.a.success(`【${this.qq}】 Socket: ${t}连接成功！`)}_handleSocketError(e,t){this.isError=!0,s.a.error(`【${this.qq}】 Socket: ${e}连接失败！请检查酷Q的配置是否正确！`)}_handleListenerMessage(e,t){const n=JSON.parse(`${t.data}`),a=this.option?Number(this.option.groupNumber):0;if(console.log(n),\"event\"===e&&\"group_id\"in n&&n.group_id===a&&n.self_id===Number(this.qq)&&(\"group\"===n.message_type&&this.callback&&this.callback(n,this),\"notice\"!==n.post_type&&\"event\"!==n.post_type||\"group_increase\"!==n.notice_type&&\"group_increase\"!==n.event||!this.option||!this.option.basic.isNewGroupMember||this.getGroupMemberInfo(n)),\"data\"in n&&\"nickname\"in n.data&&\"group_id\"in n.data&&n.data.group_id===a){const{nickname:e,user_id:t}=n.data;this.sendMessage(Object(u.e)(this.option?this.option.basic.welcomeNewGroupMember:\"\",{nickname:e,userid:t}))}\"data\"in n&&\"coolq_edition\"in n.data&&(this.coolqEdition=n.data.coolq_edition)}sendMessage(e){const t=Number(this.option.groupNumber),n=e.split(\"\\n\"),a=Object(c.a)(n,100);for(const s of a)this.apiSocket.send(i()({action:\"send_group_msg\",params:{group_id:t,message:s.join(\"\\n\")}}))}getGroupMemberInfo(e){const t=e.user_id;this.apiSocket&&this.apiSocket.send(i()({action:\"get_group_member_info\",params:{group_id:this.option?Number(this.option.groupNumber):0,user_id:t,type:\"group_member_info\"}}))}getCoolQVersionInfo(){this.apiSocket&&this.apiSocket.send(i()({action:\"get_version_info\"}))}init(){this.eventSocket=new WebSocket(this.eventUrl),this.eventSocket.addEventListener(\"open\",this.handleOpenEventSocket,!1),this.eventSocket.addEventListener(\"error\",this.handleEventSocketError,!1),this.eventSocket.addEventListener(\"message\",this.handleListenerEventMessage,!1),this.apiSocket=new WebSocket(this.apiUrl),this.apiSocket.addEventListener(\"open\",this.handleOpenApiSocket,!1),this.apiSocket.addEventListener(\"error\",this.handleApiSocketError,!1),this.apiSocket.addEventListener(\"message\",this.handleListenerApiMessage,!1)}outAndClear(){this.modianWorker&&(this.modianWorker.postMessage({type:\"cancel\"}),this.modianWorker.terminate(),this.modianWorker=null),null!==this.roomListenerTimer&&e.clearTimeout(this.roomListenerTimer),this.weiboWorker&&(this.weiboWorker.postMessage({type:\"cancel\"}),this.weiboWorker.terminate(),this.weiboWorker=null),this.timingMessagePushTimer&&this.timingMessagePushTimer.cancel(),this.eventSocket.removeEventListener(\"open\",this.handleOpenEventSocket),this.eventSocket.removeEventListener(\"error\",this.handleEventSocketError),this.eventSocket.removeEventListener(\"message\",this.handleListenerEventMessage),this.apiSocket.removeEventListener(\"open\",this.handleOpenApiSocket),this.apiSocket.removeEventListener(\"error\",this.handleApiSocketError),this.apiSocket.removeEventListener(\"message\",this.handleListenerApiMessage),this.eventSocket&&this.eventSocket.close(),this.apiSocket&&this.apiSocket.close()}async listenModianWorkerCbInformation(e){if(\"change\"===e.data.type)try{const{data:n,alreadyRaised:a,backerCount:i,endTime:s,timedifference:o}=e.data,{modianTemplate:r,isChouka:c,isChoukaSendImage:l}=this.option.basic,h=(Number(this.modianGoal)-Number(a)).toFixed(2),{cards:p,money:f,multiple:g,db:b}=this.choukaJson||{};for(let e=n.length-1;e>=0;e--){const t=n[e],v=[];let E=\"\";if(c){const e=await m.b(b,t.userid),n=0===e.length?{}:JSON.parse(e[0].record),a=Object(d.a)(p,f,Number(t.pay_amount),g);for(const t in a){const e=a[t],i=`【${e.level}】${e.name} * ${e.length}`;v.push(i),e.id in n?n[e.id]+=e.length:n[e.id]=e.length}if(l&&\"pro\"===this.coolqEdition)for(const t in a)E+=`[CQ:image,file=${a[t].image}]`;0===e.length?await m.a(b,t.userid,t.nickname,n):await m.d(b,t.userid,t.nickname,n)}const L=Object(u.e)(r,{id:t.nickname,money:t.pay_amount,modianname:this.modianTitle,modianid:this.option.basic.modianId,goal:this.modianGoal,alreadyraised:a,backercount:i,amountdifference:h,endtime:s,timedifference:o,chouka:`抽卡结果：\\n${v.join(\"\\n\")}${E}`});await this.sendMessage(L)}}catch(t){console.error(t)}}async listenRoomMessage(){var t,n;const a=(null==this?void 0:null===(t=this.option)||void 0===t?void 0:t.basic)||{},i=a.liveListeningInterval?1e3*a.liveListeningInterval:15e3;let s=!0;try{const t=await Object(l.f)(a.roomId,this.kouDai48Token);var o,c;if(console.log(\"request: data2\",t),!(200===t.status&&\"content\"in t))return void(this.roomListenerTimer=e.setTimeout(r()(o=this.listenRoomMessage).call(o,this),i));if(!(t.content.message[0].msgTime>this.roomLastTime))return void(this.roomListenerTimer=e.setTimeout(r()(c=this.listenRoomMessage).call(c,this),i));const n=await Object(l.f)(a.roomId,this.kouDai48Token);var d;if(console.log(\"request: data3\",n),!(200===n.status&&\"content\"in n))return void(this.roomListenerTimer=e.setTimeout(r()(d=this.listenRoomMessage).call(d,this),i));const h=[],p=n.content.message;for(let e=0,a=p.length;e<a;e++){const t=p[e];if(!(t.msgTime>this.roomLastTime))break;{const e=JSON.parse(t.extInfo),n=Object(u.f)(\"YY-MM-DD hh:mm:ss\",t.msgTime),{nickName:a}=e.user,{messageType:i}=e;switch(i){case\"TEXT\":h.push(`${e.user.nickName}：${e.text}\\n`+`时间：${n}`);break;case\"REPLY\":h.push(`${e.replyName}：${e.replyText}\\n`+`${a}：${e.text}\\n`+`时间：${n}`);break;case\"IMAGE\":const s=JSON.parse(t.bodys).url;let o=`${a}：`;this.option&&this.option.basic.isRoomSendImage&&\"pro\"===this.coolqEdition?o+=`\\n[CQ:image,file=${s}]\\n`:o+=`${s}\\n`,h.push(`${o}时间：${n}`);break;case\"AUDIO\":const r=JSON.parse(t.bodys).url;h.push(`${a} 发送了一条语音：${r}\\n`+`时间：${n}`),this.option&&this.option.basic.isRoomSendRecord&&\"pro\"===this.coolqEdition&&h.push(`[CQ:record,file=${r},magic=false]`);break;case\"VIDEO\":const c=JSON.parse(t.bodys).url;h.push(`${a} 发送了一个视频：${c}\\n`+`时间：${n}`);break;case\"LIVEPUSH\":h.push(`${a} 正在直播\\n`+`直播标题：${e.liveTitle}\\n`+`时间：${n}`);break;case\"FLIPCARD\":const u=await Object(l.e)(this.kouDai48Token,e.questionId,e.answerId),d=`${a} 翻牌了 ${u.content.userName}的问题：\\n`+`${e.question||u.content.question}\\n`+`回答：${e.answer||u.content.answer}\\n`+`时间：${n}`;h.push(d);break;case\"EXPRESS\":h.push(`${a}：发送了一个表情。\\n`+`时间：${n}`);break;default:h.push(`${a}：未知信息类型，请联系开发者。\\n`+`时间：${n}`)}}}this.roomLastTime=p[0].msgTime;for(let e=h.length-1;e>=0;e--)await this.sendMessage(h[e])}catch(m){s=!1,console.error(m)}this.roomListenerTimer=e.setTimeout(r()(n=this.listenRoomMessage).call(n,this),s?i:15e3)}async listenWeiboWorkerCbInformation(e){var t;const{isWeiboAtAll:n}=(null==this?void 0:null===(t=this.option)||void 0===t?void 0:t.basic)||{};if(\"change\"===e.data.type)try{const{data:t}=e.data;for(let e=t.length-1;e>=0;e--){const a=t[e];let i=a.data;n&&(i=`[CQ:at,qq=all] ${i}`),this.option&&this.option.basic.isWeiboSendImage&&\"pro\"===this.coolqEdition&&a.pics.length>0&&(i+=`[CQ:image,file=${a.pics[0]}]`),await this.sendMessage(i)}}catch(a){console.error(a)}}async timingMessagePush(e){try{await this.sendMessage(e)}catch(t){console.error(t)}}}}).call(this,n(27))},574:function(e,t,n){e.exports=n(575)},575:function(e,t,n){e.exports=n(576)},576:function(e,t,n){n(577),e.exports=n(67).Array.isArray},577:function(e,t,n){n(49)({target:\"Array\",stat:!0},{isArray:n(163)})},578:function(e,t,n){\"use strict\";(function(e){var n=\"object\"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(27))},579:function(e,t,n){\"use strict\";(function(e){const n=e.require(\"md5.js\"),a=\"das41aq6\";t.a=function(e){return e+`&sign=${(new n).update(e+\"&p=\"+a).digest(\"hex\").substr(5,16)}`}}).call(this,n(27))},580:function(e,t,n){e.exports=function(){return new Worker(n.p+\"0d63e.worker.js\")}},590:function(e,t,n){e.exports=n(591)},591:function(e,t,n){e.exports=n(592)},592:function(e,t,n){n(593),e.exports=n(67).Object.values},593:function(e,t,n){var a=n(594);n(49)({target:\"Object\",stat:!0},{values:function(e){return a(e)}})},594:function(e,t,n){var a=n(171),i=n(70),s=n(113).f;e.exports=function(e,t){for(var n,o=i(e),r=a(o),c=r.length,l=0,u=[];c>l;)s.call(o,n=r[l++])&&u.push(t?[n,o[n]]:o[n]);return u}},595:function(e,t,n){\"use strict\";var a=n(363),i=n.n(a),s=n(0),o=n.n(s),r=n(3),c=n.n(r),l=n(298),u=n.n(l),d=n(398),m=n.n(d);function h(e){return e?o.a.createElement(\"span\",{className:m.a.on},\"开启\"):o.a.createElement(\"span\",{className:m.a.off},\"未开启\")}t.a=function(e){if(!e.detail)return null;const{detail:t}=e,{basic:n}=t;return o.a.createElement(\"table\",{className:m.a.detail},o.a.createElement(\"tbody\",null,o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:c()(m.a.td1,m.a.tdTitle)},\"配置名称\"),o.a.createElement(\"td\",{className:m.a.td2},t.name),o.a.createElement(\"td\",{className:c()(m.a.td1,m.a.tdTitle)},\"QQ号\"),o.a.createElement(\"td\",{className:m.a.td2},t.qqNumber)),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:c()(m.a.td1,m.a.tdTitle)},\"群号\"),o.a.createElement(\"td\",{className:m.a.td2},t.groupNumber),o.a.createElement(\"td\",{className:c()(m.a.td1,m.a.tdTitle)},\"socket端口\"),o.a.createElement(\"td\",{className:m.a.td2},t.socketPort)),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdGTitle,colSpan:4},\"摩点项目配置：\")),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"开启摩点项目监听功能\"),o.a.createElement(\"td\",null,h(n.isModian)),o.a.createElement(\"td\",{className:m.a.tdTitle},\"开启排行榜查询\"),o.a.createElement(\"td\",null,h(n.isModianLeaderboard))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"摩点项目ID\"),o.a.createElement(\"td\",{colSpan:3},n.modianId)),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"摩点项目命令\"),o.a.createElement(\"td\",{colSpan:3},o.a.createElement(\"pre\",null,n.modianUrlTemplate))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"摩点项目模板\"),o.a.createElement(\"td\",{colSpan:3},o.a.createElement(\"pre\",null,n.modianTemplate))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdGTitle,colSpan:4},\"摩点抽卡配置：\")),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"开启摩点抽卡功能\"),o.a.createElement(\"td\",null,h(n.isChouka)),o.a.createElement(\"td\",{className:m.a.tdTitle},\"发送图片\"),o.a.createElement(\"td\",null,h(n.isChoukaSendImage))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"卡牌信息文件地址\"),o.a.createElement(\"td\",{colSpan:3},o.a.createElement(\"pre\",null,n.choukaJson))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"允许补卡的QQ号\"),o.a.createElement(\"td\",{colSpan:3},o.a.createElement(\"pre\",null,n.bukaQQNumber))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdGTitle,colSpan:4},\"直播监听\")),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"开启口袋48直播监听功能\"),o.a.createElement(\"td\",null,h(n.is48LiveListener)),o.a.createElement(\"td\",{className:m.a.tdTitle},\"监听所有成员\"),o.a.createElement(\"td\",null,h(n.isListenerAll))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"@所有成员\"),o.a.createElement(\"td\",{colSpan:3},h(n.is48LiveAtAll))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"监听成员\"),o.a.createElement(\"td\",{colSpan:3},o.a.createElement(\"pre\",null,n.kd48LiveListenerMembers))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdGTitle,colSpan:4},\"成员房间信息监听\")),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"开启成员房间信息监听功能\"),o.a.createElement(\"td\",{colSpan:3},h(n.isRoomListener))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"房间ID\"),o.a.createElement(\"td\",null,n.roomId),o.a.createElement(\"td\",{className:m.a.tdTitle},\"监听间隔（秒）\"),o.a.createElement(\"td\",null,n.liveListeningInterval)),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"发送图片和图片链接（只限于酷QPro版本）\"),o.a.createElement(\"td\",null,h(n.isRoomSendImage)),o.a.createElement(\"td\",{className:m.a.tdTitle},\"发送语音和语音链接（只限于酷QPro版本）\"),o.a.createElement(\"td\",null,h(n.isRoomSendImage))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdGTitle,colSpan:4},\"微博监听\")),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"开启微博监听功能\"),o.a.createElement(\"td\",null,h(n.isWeiboListener)),o.a.createElement(\"td\",{className:m.a.tdTitle},\"@所有成员\"),o.a.createElement(\"td\",null,h(n.isWeiboAtAll))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"微博lfid\"),o.a.createElement(\"td\",null,n.lfid),o.a.createElement(\"td\",{className:m.a.tdTitle},\"发送图片\"),o.a.createElement(\"td\",null,h(n.isWeiboSendImage))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdGTitle,colSpan:4},\"欢迎新成员\")),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"开启欢迎新成员功能\"),o.a.createElement(\"td\",{colSpan:3},h(n.isNewGroupMember))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"欢迎词\"),o.a.createElement(\"td\",{colSpan:3},o.a.createElement(\"pre\",null,n.welcomeNewGroupMember))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdGTitle,colSpan:4},\"群内定时消息推送功能\")),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"开启群内定时消息推送功能\"),o.a.createElement(\"td\",null,h(n.isTimingMessagePush)),o.a.createElement(\"td\",{className:m.a.tdTitle},\"规则配置\"),o.a.createElement(\"td\",null,n.timingMessagePushFormat)),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"推送消息\"),o.a.createElement(\"td\",{colSpan:3},o.a.createElement(\"pre\",null,n.timingMessagePushText))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdGTitle,colSpan:4},\"帮助：\")),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdTitle},\"群内帮助命令\"),o.a.createElement(\"td\",{colSpan:3},h(n.isHelpCommend))),o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{className:m.a.tdGTitle,colSpan:4},\"自定义命令\")),function(e){const t=[];return u.a.each(e,(e,n)=>{t.push({command:e,text:n})}),0===t.length?o.a.createElement(\"tr\",null,o.a.createElement(\"td\",{colSpan:4},\"无自定义命令\")):i()(t).call(t,(e,t)=>o.a.createElement(\"tr\",{key:e.command},o.a.createElement(\"td\",null,e.command),o.a.createElement(\"td\",{colSpan:3},o.a.createElement(\"pre\",null,e.text))))}(t.custom)))}},596:function(e,t,n){\"use strict\";n.d(t,\"b\",function(){return h});var a=n(370),i=n.n(a),s=n(298),o=n.n(s),r=n(320),c=n(31),l=n(65),u=n(597),d=n.n(u);let m={};async function h(){try{const t=await Object(r.c)(0,!0);200===t.status&&\"liveList\"in t.content&&(m=function(e){const t={};return o.a.each(e,(e,n)=>{t[n.liveId]=n}),t}(t.content.liveList))}catch(e){console.error(e)}}t.a=async function(){try{const t=await Object(r.c)(0,!0);let n=[];200===t.status&&\"liveList\"in t.content&&(n=t.content.liveList);const a=new d.a,s=async e=>{const{newDataObj:t,newLive:n}=e.data;if(m=t,n.length>0){const e=l.a.getState().get(\"login\").get(\"qqLoginList\"),t=e instanceof Array?e:e.toJS();for(let a=n.length-1,s=t.length;a>=0;a--){const e=n[a];for(let n=0;n<s;n++){var o;const a=t[n],s=a.option.basic;if(s.is48LiveListener&&(s.isListenerAll||a.members&&a.members.test(e.userInfo.nickname)||a.memberId&&i()(o=a.memberId).call(o,e.userId))){const t=Object(c.f)(\"YY-MM-DD hh:mm:ss\",Number(e.ctime)),n=a,i=await Object(r.b)(e.liveId);let o=`${e.userInfo.nickname} 开启了一个${1===e.liveType?\"直播\":\"电台\"}。\\n`+`直播标题：${e.title}\\n`+`开始时间：${t}\\n`+`视频地址：${i.content.playStreamPath}`;s.is48LiveAtAll&&(o=`[CQ:at,qq=all] ${o}`),await n.sendMessage(o)}}}}a.removeEventListener(\"message\",s),a.terminate()};a.addEventListener(\"message\",s,!1),a.postMessage({oldData:m,newData:n})}catch(e){console.error(e)}}},597:function(e,t,n){e.exports=function(){return new Worker(n.p+\"26f63.worker.js\")}},598:function(e,t,n){e.exports=function(){return new Worker(n.p+\"a2487.worker.js\")}},599:function(e,t,n){e.exports=function(){return new Worker(n.p+\"10e9d.worker.js\")}},628:function(e,t,n){\"use strict\";var a=n(71),i=n.n(a),s=n(411),o=n(31),r=n(580),c=n.n(r);var l=function(e,t){e[2]||(e[2]=\"20\");const{basic:n}=t.option;if(!n.isModian)return;const{isModianLeaderboard:a,modianId:i}=n;switch(e[1]){case\"0\":case\"项目信息\":a&&async function(e){const t=await Object(s.a)(e.option.basic.modianId);await e.sendMessage(`${e.modianTitle}: ￥${t.already_raised} / ￥${e.modianGoal}，`+`\\n集资人数：${t.backer_count}\\n项目截至日期：${t.end_time}`)}(t);break;case\"1\":case\"聚聚榜\":case\"2\":case\"打卡榜\":\"聚聚榜\"===e[1]?e[1]=\"1\":\"打卡榜\"===e[1]&&(e[1]=\"2\"),a&&function(e,t,n,a){try{const s=new c.a,o=async e=>{await a.sendMessage(e.data.text),s.removeEventListener(\"message\",o),s.terminate()};s.addEventListener(\"message\",o,!1),s.postMessage({proId:e,type:t,size:n,title:a.modianTitle})}catch(i){console.error(i)}}(i,e[1],e[2],t);break;case\"3\":case\"订单\":a&&function(e,t,n){const a=new c.a,i=async e=>{await n.sendMessage(e.data.text),a.removeEventListener(\"message\",i),a.terminate()};a.addEventListener(\"message\",i,!1),a.postMessage({proId:e,type:\"订单\",size:t,title:n.modianTitle})}(i,e[2],t);break;default:!async function(e){try{const n=Object(o.e)(e.option.basic.modianUrlTemplate,{modianname:e.modianTitle,modianid:e.option.basic.modianId});await e.sendMessage(n)}catch(t){console.error(t)}}(t)}},u=n(370),d=n.n(u),m=n(369),h=n(410);var p=async function(e,t,n){var a;const{basic:i}=t.option;if(i.isChouka&&d()(a=t.bukaQQNumber).call(a,n.user_id)&&e[1]&&/^[0-9]+$/.test(e[1]))try{const{cards:n,money:a,multiple:o,db:r}=t.choukaJson,c=[];let l=\"\";const u=await m.b(r,e[1]),d=0===u.length?{}:JSON.parse(u[0].record),p=Object(h.a)(n,a,null,o,e[2]?Number(e[2]):1);for(const e in p){const t=p[e],n=`【${t.level}】${t.name} * ${t.length}`;c.push(n),t.id in d?d[t.id]+=t.length:d[t.id]=t.length}if(i.isChoukaSendImage)for(const e in p)l+=`[CQ:image,file=${p[e].image}]`;0===u.length?await m.a(r,e[1],\"\",d):await m.e(r,e[1],d),await t.sendMessage(`[${e[1]}]的补卡结果为：\\n${c.join(\"\\n\")}${l}`)}catch(s){console.error(s)}};var f=async function(e,t){const{basic:n}=t.option;if(!n.isChouka||!e[1])return;const{db:a,cards:i}=t.choukaJson,s=await m.c(a,e[1]);if(0===s.length)return void(await t.sendMessage(`[${e[1]}]：暂无卡片。`));const o=JSON.parse(s[0].record),r=[];for(let c=i.length-1;c>=0;c--){const e=i[c],t=[];let n=`【${e.level}】：`;for(const a of e.data)a.id in o&&o[a.id]>0&&t.push(`${a.name} * ${o[a.id]}`);t.length>0&&(n+=`\\n${t.join(\"\\n\")}`,r.push(n))}0!==r.length?await t.sendMessage(`[${\"\"===s[0].nickname?!e[1]:s[0].nickname}] 的查卡结果：\\n${r.join(\"\\n\")}`):await t.sendMessage(`[${!e[1]}] 的查卡结果：暂无卡片。`)},g=n(298),b=n.n(g),v=n(320);var E=function(e){e.option.basic.is48LiveListener&&async function(e){try{const n=await Object(v.c)(0,!0);let a=null;if(200===n.status)if(\"liveList\"in n.content&&n.content.liveList.length>0){const{liveList:e}=n.content;a=`口袋48直播：（当前直播成员数：${e.length}）`,b.a.each(e,(e,t)=>{a+=`\\n${e+1}、${t.userInfo.nickname}\\n`+`标题：${t.title}\\n`+`开始时间：${Object(o.f)(\"YY-MM-DD hh:mm:ss\",Number(t.ctime))}`})}else a=\"口袋48直播：\\n当前无直播。\";else a=\"[ERROR] 获取口袋48直播列表错误。'\";await e.sendMessage(a)}catch(t){console.error(t)}}(e)};var L=function(e,t){e[0]in t.option.custom&&t.sendMessage(t.option.custom[e[0]])},k=n(590),q=n.n(k);var y=async function(e){const{basic:t,custom:n}=e.option;if(t.isHelpCommend)try{const t=\"【帮助】\\n  · [摩点 或 集资 或 mod]:查看当前微打赏链接\\n  · [(摩点 或 集资 或 mod) (0 或 项目信息)]:查看当前已集资数\\n  · [(摩点 或 集资 或 mod) (1 或 聚聚榜) ?number]:查看聚聚榜\\n  · [(摩点 或 集资 或 mod) (2 或 打卡榜) ?number]:查看打卡榜\\n  · [(摩点 或 集资 或 mod) (3 或 订单) ?number]:订单查询\\n  · [补卡 摩点ID number]:补卡\\n  · [查卡 (摩点ID 或 摩点昵称)]:查卡\\n  · [直播列表 或 zb]:查看当前的口袋48直播列表\\n  · [help]：帮助\";if(await e.sendMessage(t),q()(n).length>0){let t=\"【自定义命令】\";b.a.each(n,(e,n)=>{t+=\"\\n · \"+e}),await e.sendMessage(t)}}catch(a){console.error(a)}};t.a=function(e,t){const n=((null==e?void 0:e.raw_message)||e.message).split(/\\s+/);for(let a=n.length-1;a>=0;a--)\"\"===n[a]&&i()(n).call(n,a,1);!function(e,t,n){switch(e[0]){case\"摩点\":case\"集资\":case\"mod\":l(e,t);break;case\"补卡\":p(e,t,n);break;case\"查卡\":f(e,t);break;case\"直播列表\":case\"zb\":E(t);break;case\"help\":y(t);break;default:L(e,t)}}(n,t,e)}},631:function(e,t,n){\"use strict\";n.r(t);var a,i=n(0),s=n.n(i),o=n(32),r=n(324),c=n(344),l=n(419),u=n(530);let d=Object(r.a)(c.c)(a=class extends i.Component{render(){return s.a.createElement(o.c,null,s.a.createElement(o.a,{path:\"/Login\",component:l.a,exact:!0}),s.a.createElement(o.a,{path:\"/Login/Login\",component:u.a,exact:!0}))}})||a;t.default=d},632:function(e,t,n){\"use strict\";var a=function(e,t,n){var a=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+t];return s};var i=function(e,t){return e===t||e!=e&&t!=t},s=n(578),o=\"object\"==typeof self&&self&&self.Object===Object&&self,r=(s.a||o||Function(\"return this\")()).Symbol,c=Object.prototype,l=c.hasOwnProperty,u=c.toString,d=r?r.toStringTag:void 0;var m=function(e){var t=l.call(e,d),n=e[d];try{e[d]=void 0;var a=!0}catch(s){}var i=u.call(e);return a&&(t?e[d]=n:delete e[d]),i},h=Object.prototype.toString;var p=function(e){return h.call(e)},f=\"[object Null]\",g=\"[object Undefined]\",b=r?r.toStringTag:void 0;var v=function(e){return null==e?void 0===e?g:f:b&&b in Object(e)?m(e):p(e)};var E=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)},L=\"[object AsyncFunction]\",k=\"[object Function]\",q=\"[object GeneratorFunction]\",y=\"[object Proxy]\";var T=function(e){if(!E(e))return!1;var t=v(e);return t==k||t==q||t==L||t==y},S=9007199254740991;var w=function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=S};var N=function(e){return null!=e&&w(e.length)&&!T(e)},O=9007199254740991,j=/^(?:0|[1-9]\\d*)$/;var $=function(e,t){var n=typeof e;return!!(t=null==t?O:t)&&(\"number\"==n||\"symbol\"!=n&&j.test(e))&&e>-1&&e%1==0&&e<t};var I=function(e,t,n){if(!E(n))return!1;var a=typeof t;return!!(\"number\"==a?N(n)&&$(t,n.length):\"string\"==a&&t in n)&&i(n[t],e)};var M=function(e){return null!=e&&\"object\"==typeof e},_=\"[object Symbol]\";var x=function(e){return\"symbol\"==typeof e||M(e)&&v(e)==_},A=NaN,C=/^\\s+|\\s+$/g,Q=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,P=/^0o[0-7]+$/i,R=parseInt;var D=function(e){if(\"number\"==typeof e)return e;if(x(e))return A;if(E(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=E(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(C,\"\");var n=W.test(e);return n||P.test(e)?R(e.slice(2),n?2:8):Q.test(e)?A:+e},J=1/0,G=1.7976931348623157e308;var z=function(e){return e?(e=D(e))===J||e===-J?(e<0?-1:1)*G:e==e?e:0:0===e?e:0};var U=function(e){var t=z(e),n=t%1;return t==t?n?t-n:t:0},F=Math.ceil,V=Math.max;t.a=function(e,t,n){t=(n?I(e,t,n):void 0===t)?1:V(U(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,o=0,r=Array(F(i/t));s<i;)r[o++]=a(e,s,s+=t);return r}}}]);","extractedComments":[]}